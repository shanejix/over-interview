#### [堆内存和栈内存]



堆内存：存储引用数据类型值（对象：键值对  函数：代码字符串）

栈内存：提供JS代码执行的环境和存储基本类型值

[堆内存释放]

 * 让所有引用堆内存空间地址的变量赋值为null即可（垃圾回收机制）

[栈内存释放]

 * 函数执行完成，当前形成的栈内存中，某些内容被栈内存以外的变量占用了，此时栈内存不能释放（一旦释放外面找不到原有的内容了）——>闭包
 * 全局栈内存只有在页面关闭（刷新会先创建再释放）的时候才会被释放掉
 * 如果当前栈内存没有被释放，那么之前在栈内存中存储的基本值也不会被释放，能够一直保存下来



#### [闭包]



形成一个不销毁的私有作用域（私有栈内存）

- 函数中返回一个函数

- 函数中返回一个对象

```js
//闭包：柯理化函数

function fn() {
    return function () {

    }
}
var f = fn();
```

```js
//闭包：高级单例模式

var utils = (function () {
    return {

    }
})();
```

拓展：惰性函数



【闭包的作用】

- 利用函数作用域（私用作用域），保护私有变量不受外界干扰
- 通过形成一个不销毁的栈内存——缓存数据



闭包会导致内存泄漏

